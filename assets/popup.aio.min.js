/*
Generated time: September 26, 2024 12:18
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
jQuery(document).ready(function(c){var s,e={};(e={sPrevious:window.scrollY,sDirection:"down",init:function(o){(s=e).popupInit(o),s.events(o)},events:function(o){c(document).on("click",".popup-close",s.closePopup),c(document).on("click",".popup-accept",s.acceptPopup),c(document).on("click",".popup-accept",s.closePopup),c(document).on("click",".age-verification__popup-close",s.agePopup),c(document).on("click",".age-verification__popup-close",s.closePopup),c(document).on("click",".age-verification__button-no",s.ageDeclined),c(document).keyup(function(o){"Escape"===o.key&&c('.popup-open[data-esc-close="true"]').each(function(o,e){s.closePopup(e)}),"F4"===o.key&&c('.popup-open[data-f4-close="true"]').each(function(o,e){s.closePopup(e)})}),c(document).on("click",".popup-overlay",function(o){c('.popup-open[data-overlay-close="true"]').each(function(o,e){s.closePopup(e)})})},popupInit:function(o){c(document).on("scroll",function(){var o=window.scrollY;o>s.sPrevious?s.sDirection="down":s.sDirection="up",s.sPrevious=o}),c(".popup").each(function(o,n){if("manual"===c(n).data("open-trigger")){let e=c(n).data("open-manual-selector");e&&(c(e).addClass("popup-trigger"),c(document).on("click",e,function(o){o.preventDefault(),c(n).removeClass("popup-already-opened"),s.openPopup(n),o.currentTarget.classList.contains("popup")&&s.closePopup(e)}))}(s.isAllowPopup(n)||c(n).hasClass("age-verification"))&&s.openTriggerPopup(n)})},openTriggerPopup:function(o){let n=o.originalEvent?this:o,e=c(n).data("open-trigger");var p,t,i;"none"!==e||s.getCookie("popup-age-"+c(n).data("id")||0)||s.openPopup(n),"delay"===e&&setTimeout(function(){s.openPopup(n)},1e3*c(n).data("open-delay-number")),"exit"===e&&(p=!0,document.addEventListener("mousemove",function(o){var e=window.pageYOffset||document.documentElement.scrollTop;o.pageY-e<7&&p&&(s.openPopup(n),p=!1)})),"scroll"===e&&(t=c(n).data("open-scroll-type"),i=c(n).data("open-scroll-position"),c(document).on("scroll",function(){"px"===t&&window.scrollY>=i&&s.openPopup(n),"%"===t&&s.getScrollPercent()>=i&&s.openPopup(n)})),"accept"!==e||s.getCookie("popup-accept-"+c(n).data("id")||0)||s.openPopup(n)},closeTriggerPopup:function(o){let e=o.originalEvent?this:o,n=c(e).data("close-trigger");var p,t,i,a;"delay"===n&&setTimeout(function(){s.closePopup(e)},1e3*c(e).data("close-delay-number")),"scroll"===n&&(p=c(e).data("close-scroll-type"),t=c(e).data("close-scroll-position"),i=c(e).data("init-scroll-px"),a=c(e).data("init-scroll-percent"),c(document).on("scroll",function(){"px"===p&&("up"===s.sDirection&&window.scrollY<i-t&&s.closePopup(e),"down"===s.sDirection)&&window.scrollY>=i+t&&s.closePopup(e),"%"===p&&("up"===s.sDirection&&s.getScrollPercent()<a-t&&s.closePopup(e),"down"===s.sDirection)&&s.getScrollPercent()>=a+t&&s.closePopup(e)}))},openPopup:function(o){var o=o.originalEvent?this:o,e=(c(o).is('[data-body-scroll-disable="true"]')&&c("body").addClass("popup-scroll-hidden"),parseInt(s.getCookie("popup-"+c(o).data("id"))||0)+1);s.setCookie("popup-"+c(o).data("id"),e,{expires:c(o).data("limit-lifetime")}),c(o).hasClass("popup-open")||c(o).hasClass("popup-already-opened")||(c(o).addClass("popup-open"),c(o).data("init-scroll-px",window.scrollY),c(o).data("init-scroll-percent",s.getScrollPercent()),e=c(o).data("open-animation"),s.applyAnimation(o,e),s.closeTriggerPopup(o))},agePopup:function(o){o=o.originalEvent?this:o,o=c(o).closest(".popup");s.setCookie("popup-age-"+c(o).data("id"),1,{expires:360})},ageDeclined:function(){c(".age-verification__question").removeClass("show"),c(".age-verification__declined").addClass("show")},acceptPopup:function(o){o=o.originalEvent?this:o,o=c(o).closest(".popup");s.setCookie("popup-accept-"+c(o).data("id"),1,{expires:360})},closePopup:function(o){o=o.originalEvent?this:o;let e=c(o).closest(".popup");o=c(e).data("exit-animation");s.applyAnimation(e,o,function(){c(e).addClass("popup-already-opened"),c(e).removeClass("popup-open"),c("body").removeClass("popup-scroll-hidden")})},isAllowPopup:function(o){var o=o.originalEvent?this:o,e=parseInt(c(o).data("limit-display")||0),o=parseInt(s.getCookie("popup-"+c(o).data("id")));if(!(e&&o&&e<=o))return!0},applyAnimation:function(o,e,n){var p,o=c(o).closest(".popup");p="function"==typeof n?"popupExitFade":"popupOpenFade",c(o).next(".popup-overlay").addClass("popup-animated "+p).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){c(this).removeClass("popup-animated "+p)}),c(o).find(".popup-wrap").addClass("popup-animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){c(this).removeClass("popup-animated "+e),"function"==typeof n&&n()})},getCookie:function(o){o=document.cookie.match(new RegExp("(?:^|; )"+o.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0},setCookie:function(o,e,n){(n=n||{}).path=n.hasOwnProperty("path")?n.path:"/",n.expires=parseInt(n.expires),"number"==typeof n.expires&&n.expires&&(n.expires=(new Date).setDate((new Date).getDate()+n.expires),n.expires=new Date(n.expires).toUTCString());var p,t=o+"="+(e=encodeURIComponent(e));for(p in n){t+="; "+p;var i=n[p];!0!==i&&(t+="="+i)}document.cookie=t},getScrollPercent:function(){var o=document.documentElement,e=document.body,n="scrollTop",p="scrollHeight";return(o[n]||e[n])/((o[p]||e[p])-o.clientHeight)*100}}).init(),document.addEventListener("shopify:section:load",function(){e.init()}),document.addEventListener("shopify:section:unload",function(){c("body").removeClass("popup-scroll-hidden")})});